<!DOCTYPE html>
<html>
    <head>
        <meta name="viewport" content="width=device-width, user-scalable=no, initial-scale=1.0">
        <meta charset="utf-8">
        <title>Renkon-pad</title>
        <script type="module">
            import {ProgramState, globals} from "./renkon-core.js";
            import {newInspector} from "./renkon-inspector.js";
            import {loader} from "./loader.js";

            const padOption = new URL(window.location).searchParams.get("pad");

            window.RenkonWeb = {globals};
            window.ProgramState = ProgramState;
            window.onload = () => {
              loader({codemirror: true, padName: padOption}).then((obj) => {
                const {session, CodeMirrorModel, CodeMirrorView, CodeMirror} = obj;
                window.CodeMirror = CodeMirror;
                window.CodeMirrorModel = CodeMirrorModel;
                window.CodeMirrorView = CodeMirrorView;
                window.RenkonWeb = {globals, newInspector};
              });
            };
        </script>
    </head>
    <body></body>
</html>
